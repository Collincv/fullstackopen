
* Reference Material
** Vite
  - start vite project
#+BEGIN_SRC
npm run dev
#+END_SRC

* Exercises
** 0.4
#+BEGIN_SRC mermaid :file ./images/diagram.png
  sequenceDiagram
  participant browser
  participant server

  Note right of browser: the browser sends text note in payload

  browser->>server: POST https://studies.cs.helsinki.fi/exampleapp/new_note
  activate server
  note left of server: server adds payload to notes array
  server-->>browser: Status 302 redirect
  deactivate server

  browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/notes
  activate server
  server-->>browser: the HTML document
  deactivate server

  browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/main.css
  activate server
  server-->>browser: The CSS file
  deactivate server

  browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/main.js
  activate server
  server-->>browser: The javascript file
      deactivate server

  note right of browser: the browser starts executing the javascript code

  browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/data.json
  activate server
  server-->>browser: The json file
  deactivate server

#+END_SRC

#+RESULTS:
[[file:./images/diagram.png]]

#+RESU`LTS:
[[file:diagram.png]]

** 0.5
#+BEGIN_SRC mermaid :file ./images/spa_diagram.png
  sequenceDiagram
    participant browser
    participant server
      
      browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/spa

      activate server
      server-->>browser: the HTML document
      deactivate server

      browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/main.css
      activate server
      server-->>browser: the CSS file
      deactivate server

      browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/spa.js
      activate server
      server-->>browser: the javascript file
      deactivate server

      browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/data.json
      activate server
      server-->>browser: the json file
      deactivate server

    
      
      
#+END_SRC

#+RESULTS:
[[file:./images/spa_diagram.png]]

** 0.6
#+BEGIN_SRC mermaid :file ./images/0.6_New_note_in_single_page_app.diagram.png
  sequenceDiagram
      participant browser
      participant server

      Note right of browser: the browswer sends the json payload
      activate browser
      browser->>server: POST https://studies.cs.helsinki.fi/exampleapp/new_note_spa
      deactivate browser

      activate server
      deactivate server
#+END_SRC

#+RESULTS:
[[file:./images/0.6_New_note_in_single_page_app.diagram.png]]
** 1.1
#+BEGIN_SRC jsx :results output
const Header = (props) => {
  console.log(props)
  return (
    <>
    <h1>
      {props.course}
    </h1>
    </>
  )
}

const Part = (props) => {
  console.log(props)
  return (
    <>
    <p>
      {props.part} {props.exercise_count}
    </p>
    </>
  )
}

const Content = (props) => {
  console.log(props)
  return (
    <div>
      <Part part={props.parts[0]} exercise_count={props.exercise_counts[0]}/>
      <Part part={props.parts[1]} exercise_count={props.exercise_counts[1]}/>
      <Part part={props.parts[2]} exercise_count={props.exercise_counts[2]}/>
    </div>
  )
}

const Total = (props) => {
  console.log(props)
  return (
    <>
    <p>
      Number of exercises {props.number}
    </p>
    </>
  )
}


const App = () => {
  const course = 'Half Stack application development'
  const part1 = 'Fundamentals of Redact'
  const exercises1 = 10
  const part2 = 'Using props to pass data'
  const exercises2 = 7
  const part3 = 'State of a component'
  const exercises3 = 14

  return (
    <div>
      <Header course={course}/>
      <Content parts={[part1, part2, part3]}
               exercise_counts={[exercises1, exercises2,exercises3]}/>
      <Total number={exercises1 + exercises2 + exercises3}/>
    </div>
  )
}

export default App

#+END_SRC
** 1.2
#+BEGIN_SRC jsx :results output
const Header = (props) => {
  console.log(props)
  return (
    <>
    <h1>
      {props.course}        
    </h1>
    </>
  )
}

const Part = (props) => {
  console.log(props)
  return (
    <>
    <p>
      {props.part} {props.exercise_count}
    </p>
    </>
  )
}

const Content = (props) => {
  console.log(props)
  return (
    <div>
      <Part part={props.parts[0]} exercise_count={props.exercise_counts[0]}/>
      <Part part={props.parts[1]} exercise_count={props.exercise_counts[1]}/>
      <Part part={props.parts[2]} exercise_count={props.exercise_counts[2]}/>
    </div>
  )
}

const Total = (props) => {
  console.log(props)
  return (
    <>
    <p>
      Number of exercises {props.number}
    </p>
    </>
  )
}


const App = () => {
  const course = 'Half Stack application development'
  const part1 = 'Fundamentals of Redact'
  const exercises1 = 10
  const part2 = 'Using props to pass data'
  const exercises2 = 7
  const part3 = 'State of a component'
  const exercises3 = 14

  return (
    <div>
      <Header course={course}/>
      <Content parts={[part1, part2, part3]}
               exercise_counts={[exercises1, exercises2,exercises3]}/>
      <Total number={exercises1 + exercises2 + exercises3}/>
    </div>
  )
}

export default App

#+END_SRC

* Notes
** 1.C - Component state, event handlers
*** Component helper function
- defining a function in another function in Javascript is common.  Not as common in languages like Java.
  [[file:./images/20251225_111517.png]]
*** Destructuring - (e.g. {name, age} = props)
**** One example - defining outside the parameter
 [[file:./images/20251225_112907.png]]
    for
    [[file:./images/20251225_113011.png]]

**** Another example - defining inside the parameter
  [[file:./images/20251225_113211.png]]

*** Page re-rendering
[[file:./images/20251225_123418.png]]

using setInterval to re-render it automatically every second
[[file:./images/20251225_123429.png]]

*** Stateful component
[[file:./images/20251225_165601.png]]

*** Event handing - (buttons)
[[file:./images/20251225_173116.png]]

[[file:./images/20251225_173146.png]]

- separating the event handlers into separate functions anyway:
  [[file:./images/20251225_175638.png]]

*** Passing state - to child components
[[file:./images/20251225_182202.png]]

*** Changes in state cause re-rendering
*** Refactoring the components









[[file:./images/20251225_123031.png]]


The counter variable is assigned the initial value of state, which is zero. The variable setCounter is assigned a function that will be used to modify the state.
